(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{"2J8z":function(e,t,a){e.exports={container:"ssBribeCreate_container__3oCt2",retain:"ssBribeCreate_retain__P0pTx",smallerText:"ssBribeCreate_smallerText__Fa4He",helpIcon:"ssBribeCreate_helpIcon__3sUfK",topLeftButton:"ssBribeCreate_topLeftButton__De_2k",bottomLeftButton:"ssBribeCreate_bottomLeftButton__3cPhG",inputsContainer:"ssBribeCreate_inputsContainer__khFnD",multiApproval:"ssBribeCreate_multiApproval__3IPVn",multiApprovalButton:"ssBribeCreate_multiApprovalButton__12p06",inputContainer:"ssBribeCreate_inputContainer__YzX15",textField:"ssBribeCreate_textField__3Qdc_",largeInput:"ssBribeCreate_largeInput__tQFZ7",activeIcon:"ssBribeCreate_activeIcon___tVmM",gradient:"ssBribeCreate_gradient__20zp6",searchContainer:"ssBribeCreate_searchContainer__1uVik",assetSearchResults:"ssBribeCreate_assetSearchResults__1tjVu",inputTitleContainer:"ssBribeCreate_inputTitleContainer__2xdux",inputTitle:"ssBribeCreate_inputTitle__I4EB_",inputBalance:"ssBribeCreate_inputBalance__2RP7p",inputBalanceText:"ssBribeCreate_inputBalanceText__2V7OJ",balances:"ssBribeCreate_balances__3Q6LA",value:"ssBribeCreate_value__10Elu",inputTitleText:"ssBribeCreate_inputTitleText__2KbVN",infoContainer:"ssBribeCreate_infoContainer__3NxTG",infoIcon:"ssBribeCreate_infoIcon__1q8_V",infoField:"ssBribeCreate_infoField__2rURn",infoText:"ssBribeCreate_infoText__23j7W",actionsContainer:"ssBribeCreate_actionsContainer__GZ5Cy",actionButtonText:"ssBribeCreate_actionButtonText__FS2cU",autocompleteContainer:"ssBribeCreate_autocompleteContainer__12bX2",reAddPadding:"ssBribeCreate_reAddPadding__25Lw7",loadingCircle:"ssBribeCreate_loadingCircle__2EWzz",toggleButtons:"ssBribeCreate_toggleButtons__2sPdw",button:"ssBribeCreate_button__3clBe",amountAndPercent:"ssBribeCreate_amountAndPercent__1qoh3",actionsContainerWithdraw:"ssBribeCreate_actionsContainerWithdraw__3ybbc",extraTF:"ssBribeCreate_extraTF__1jfuA",buttonOverride:"ssBribeCreate_buttonOverride__3n1tH",swapIconContainer:"ssBribeCreate_swapIconContainer__3wXpm",swapIconSubContainer:"ssBribeCreate_swapIconSubContainer__2bvPJ",swapIcon:"ssBribeCreate_swapIcon__f3j0n",error:"ssBribeCreate_error__3omUT",massiveInputContainer:"ssBribeCreate_massiveInputContainer__1LOlW",massiveInputAssetSelect:"ssBribeCreate_massiveInputAssetSelect__s4ti-",massiveInputAmount:"ssBribeCreate_massiveInputAmount__3kdAe",massiveInputAddress:"ssBribeCreate_massiveInputAddress__3aPXD",displayAssetIconSmall:"ssBribeCreate_displayAssetIconSmall__1vOTj",displaySelectContainer:"ssBribeCreate_displaySelectContainer__1QqTN",displayDualIconContainer:"ssBribeCreate_displayDualIconContainer__2nJU3",displayDualIconContainerConfirm:"ssBribeCreate_displayDualIconContainerConfirm__1hN0B",displayDualIconContainerSmall:"ssBribeCreate_displayDualIconContainerSmall__1Sy4w",displayAssetIcon:"ssBribeCreate_displayAssetIcon__UzslY",someIcon:"ssBribeCreate_someIcon__1g_Ch",img1Logo:"ssBribeCreate_img1Logo__1vqpD",img2Logo:"ssBribeCreate_img2Logo__1bMF4",doubleImages:"ssBribeCreate_doubleImages__1Y10s",fillerText:"ssBribeCreate_fillerText__1OlHv",mediumInputContainer:"ssBribeCreate_mediumInputContainer__3YUSA",mediumInputAssetSelect:"ssBribeCreate_mediumInputAssetSelect__nhnyv",mediumInputAmount:"ssBribeCreate_mediumInputAmount__3IJCD",mediumInputAddress:"ssBribeCreate_mediumInputAddress__1Niuu",mediumdisplaySelectContainer:"ssBribeCreate_mediumdisplaySelectContainer__2D3PV",mediumdisplayDualIconContainer:"ssBribeCreate_mediumdisplayDualIconContainer__1vMVU",mediumdisplayAssetIcon:"ssBribeCreate_mediumdisplayAssetIcon__2epWb",mediumInput:"ssBribeCreate_mediumInput__1NkNn",receiveAssets:"ssBribeCreate_receiveAssets__3Dgun",depositInfoContainer:"ssBribeCreate_depositInfoContainer__2v542",withdrawInfoContainer:"ssBribeCreate_withdrawInfoContainer__rIVll",depositInfoHeading:"ssBribeCreate_depositInfoHeading__qfCVB",highlight:"ssBribeCreate_highlight__2WOWR",priceInfos:"ssBribeCreate_priceInfos__1if4f",createPriceInfos:"ssBribeCreate_createPriceInfos__2U422",priceInfo:"ssBribeCreate_priceInfo__lHSZ3",title:"ssBribeCreate_title__1v8Ka",text:"ssBribeCreate_text__WXQjf",assetSelectBalance:"ssBribeCreate_assetSelectBalance__bZd4a",assetSelectMenu:"ssBribeCreate_assetSelectMenu__3JqjD",titleSection:"ssBribeCreate_titleSection__166e-",backButton:"ssBribeCreate_backButton__2xkGp",backIcon:"ssBribeCreate_backIcon__2qalp",titleText:"ssBribeCreate_titleText__1L5xR",toggles:"ssBribeCreate_toggles__5ibXE",toggleOption:"ssBribeCreate_toggleOption__381Gi",active:"ssBribeCreate_active__1bGFg",toggleOptionText:"ssBribeCreate_toggleOptionText__3Uqcp",menuOption:"ssBribeCreate_menuOption__32KtN",manageLocalContainer:"ssBribeCreate_manageLocalContainer__S0sk9",assetSelectActions:"ssBribeCreate_assetSelectActions__2vcmN",buttonWrap:"ssBribeCreate_buttonWrap__6MEZk"}},DMBS:function(e,t,a){e.exports={container:"create_container__VBtOk"}},NPqq:function(e,t,a){"use strict";a.r(t);var s=a("nKUr"),n=a("q1tI"),r=a.n(n),i=a("vJKn"),c=a.n(i),o=a("rg98"),l=a("20a2"),u=a("cVXz"),_=a("jjAL"),b=a("ofer"),d=a("r9w1"),m=a("kKAo"),j=a("csfp"),p=a("PsDL"),C=a("Z3vd"),h=a("iae6"),v=a("7SZd"),x=a("kfFl"),B=a("kB5k"),O=a.n(B),g=a("kMCw"),f=a("2J8z"),I=a.n(f),S=a("bSwy"),N=a.n(S),A=a("PJCl"),y=a.n(A),k=a("FfST"),T=a.n(k),w=a("Fu3s"),E=a("hOaT");function L(){var e=Object(l.useRouter)(),t=Object(n.useState)(!1),a=t[0],r=t[1],i=Object(n.useState)(""),v=i[0],x=i[1],B=Object(n.useState)(!1),f=B[0],S=B[1],N=Object(n.useState)(null),A=N[0],k=N[1],T=Object(n.useState)([]),L=T[0],P=T[1],R=Object(n.useState)(null),F=R[0],U=R[1],M=Object(n.useState)([]),V=M[0],W=M[1],q=function(){var e=Object(o.a)(c.a.mark((function e(){var t,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=w.a.stableSwapStore.getStore("baseAssets"),a=t.filter((function(e){return"ETH"!==e.address})),s=w.a.stableSwapStore.getStore("pairs"),P(a),W(s),a.length>0&&null==A&&k(a[0]),s.length>0&&null==F&&U(s[0]);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=function(e){r(!1),x(""),K()},t=function(){r(!1)},a=function(){var e=w.a.stableSwapStore.getStore("baseAssets").filter((function(e){return"ETH"!==e.address}));P(e)};return w.a.emitter.on(E.a.UPDATED,q),w.a.emitter.on(E.a.BRIBE_CREATED,e),w.a.emitter.on(E.a.ERROR,t),w.a.emitter.on(E.a.BASE_ASSETS_UPDATED,a),q(),function(){w.a.emitter.removeListener(E.a.UPDATED,q),w.a.emitter.removeListener(E.a.BRIBE_CREATED,e),w.a.emitter.removeListener(E.a.ERROR,t),w.a.emitter.removeListener(E.a.BASE_ASSETS_UPDATED,a)}}),[]);var z,H,J,G,K=function(){e.push("/vote")};return Object(s.jsx)("div",{className:I.a.retain,children:Object(s.jsxs)(m.a,{elevation:0,className:I.a.container,children:[Object(s.jsxs)("div",{className:I.a.titleSection,children:[Object(s.jsx)(j.a,{placement:"top",title:"Back to Voting",children:Object(s.jsx)(p.a,{className:I.a.backButton,onClick:K,children:Object(s.jsx)(y.a,{className:I.a.backIcon})})}),Object(s.jsx)(b.a,{className:I.a.titleText,children:"Create Bribe"})]}),Object(s.jsxs)("div",{className:I.a.reAddPadding,children:[Object(s.jsxs)("div",{className:I.a.inputsContainer,children:[(z=F,H=null,J=V,G=function(e){U(e.target.value)},Object(s.jsx)("div",{className:I.a.textField,children:Object(s.jsx)("div",{className:"".concat(I.a.massiveInputContainer," ").concat(H&&I.a.error),children:Object(s.jsx)("div",{className:I.a.massiveInputAmount,children:Object(s.jsx)(u.a,{fullWidth:!0,value:z,onChange:G,InputProps:{className:I.a.largeInput},children:J&&J.map((function(e){return Object(s.jsx)(_.a,{value:e,children:Object(s.jsxs)("div",{className:I.a.menuOption,children:[Object(s.jsxs)("div",{className:I.a.doubleImages,children:[Object(s.jsx)("img",{className:"".concat(I.a.someIcon," ").concat(I.a.img1Logo),alt:"",src:e&&e.token0?"".concat(e.token0.logoURI):"",height:"70px",onError:function(e){e.target.onerror=null,e.target.src="/tokens/unknown-logo.png"}}),Object(s.jsx)("img",{className:"".concat(I.a.someIcon," ").concat(I.a.img2Logo),alt:"",src:e&&e.token1?"".concat(e.token1.logoURI):"",height:"70px",onError:function(e){e.target.onerror=null,e.target.src="/tokens/unknown-logo.png"}})]}),Object(s.jsxs)("div",{children:[Object(s.jsxs)(b.a,{className:I.a.fillerText,children:[e.token0.symbol,"/",e.token1.symbol]}),Object(s.jsx)(b.a,{color:"textSecondary",className:I.a.smallerText,children:null!==e&&void 0!==e&&e.isStable?"Stable Pool":"Volatile Pool"})]})]})},e.id)}))})})})})),function(e,t,n,r,i,c,o,l){return Object(s.jsxs)("div",{className:I.a.textField,children:[Object(s.jsx)("div",{className:I.a.inputTitleContainer,children:Object(s.jsx)("div",{className:I.a.inputBalance,children:Object(s.jsxs)(b.a,{className:I.a.inputBalanceText,noWrap:!0,onClick:function(){!function(e,t){if(S(!1),"amount"===e){var a=O()(A.balance).times(t).div(100).toFixed(A.decimals);x(a)}}(e,100)},children:["Balance:",i&&i.balance?" "+Object(g.b)(i.balance):""]})})}),Object(s.jsxs)("div",{className:"".concat(I.a.massiveInputContainer," ").concat((n||c)&&I.a.error),children:[Object(s.jsx)("div",{className:I.a.massiveInputAssetSelect,children:Object(s.jsx)(D,{type:e,value:i,assetOptions:o,onSelect:l})}),Object(s.jsxs)("div",{className:I.a.massiveInputAmount,children:[Object(s.jsx)(d.a,{placeholder:"0.00",fullWidth:!0,error:n,helperText:n,value:v,onChange:r,disabled:a,InputProps:{className:I.a.largeInput}}),Object(s.jsx)(b.a,{color:"textSecondary",className:I.a.smallerText,children:null===A||void 0===A?void 0:A.symbol})]})]})]})}("amount",0,f,(function(e){S(!1),x(e.target.value)}),A,null,L,(function(e,t){S(!1),k(t)})),function(){var e,t;return Object(s.jsx)("div",{className:I.a.depositInfoContainer,children:Object(s.jsxs)(b.a,{className:I.a.depositInfoHeading,children:["You are creating a bribe of"," ",Object(s.jsxs)("span",{className:I.a.highlight,children:[Object(g.b)(v)," ",null===A||void 0===A?void 0:A.symbol]})," ","to incentivize Vesters to vote for the"," ",Object(s.jsxs)("span",{className:I.a.highlight,children:[null===F||void 0===F||null===(e=F.token0)||void 0===e?void 0:e.symbol,"/",null===F||void 0===F||null===(t=F.token1)||void 0===t?void 0:t.symbol," Pool"]})]})})}()]}),Object(s.jsx)("div",{className:I.a.actionsContainer,children:Object(s.jsxs)(C.a,{variant:"contained",size:"large",className:a?I.a.multiApprovalButton:I.a.buttonOverride,color:"primary",disabled:a,onClick:function(){S(!1);var e=!1;!v||""===v||isNaN(v)?(S("From amount is required"),e=!0):!A.balance||isNaN(A.balance)||O()(A.balance).lte(0)?(S("Invalid balance"),e=!0):O()(v).lt(0)?(S("Invalid amount"),e=!0):A&&O()(v).gt(A.balance)&&(S("Greater than your available balance"),e=!0),A&&null!==A||(S("From asset is required"),e=!0),e||(r(!0),w.a.dispatcher.dispatch({type:E.a.CREATE_BRIBE,content:{asset:A,amount:v,gauge:F}}))},children:[Object(s.jsx)(b.a,{className:I.a.actionButtonText,children:a?"Creating":"Create Bribe"}),a&&Object(s.jsx)(h.a,{size:10,className:I.a.loadingCircle})]})})]})]})})}function D(e){var t=e.type,a=e.value,i=e.assetOptions,l=e.onSelect,u=Object(n.useState)(!1),m=u[0],j=u[1],h=Object(n.useState)(""),B=h[0],f=h[1],S=Object(n.useState)([]),A=S[0],y=S[1],k=Object(n.useState)(!1),L=k[0],D=k[1];Object(n.useEffect)((function(){var e=i.filter((function(e){return!B||""===B||(e.address.toLowerCase().includes(B.toLowerCase())||e.symbol.toLowerCase().includes(B.toLowerCase())||e.name.toLowerCase().includes(B.toLowerCase()))}));return y(e),function(){}}),[i,B]);var P=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){D(!L)},F=function(e,t,a){return Object(s.jsxs)(_.a,{val:t.address,className:I.a.assetSelectMenu,children:[Object(s.jsx)("div",{className:I.a.assetSelectMenuItem,children:Object(s.jsx)("div",{className:I.a.displayDualIconContainerSmall,children:Object(s.jsx)("img",{className:I.a.displayAssetIconSmall,alt:"",src:t?"".concat(t.logoURI):"",height:"60px",onError:function(e){e.target.onerror=null,e.target.src="/tokens/unknown-logo.png"}})})}),Object(s.jsxs)("div",{className:I.a.assetSelectIconName,children:[Object(s.jsx)(b.a,{variant:"h5",children:t?t.symbol:""}),Object(s.jsx)(b.a,{variant:"subtitle1",color:"textSecondary",children:t?t.name:""})]}),Object(s.jsxs)("div",{className:I.a.assetSelectActions,children:[Object(s.jsx)(p.a,{onClick:function(){var e;e=t,w.a.stableSwapStore.removeBaseAsset(e)},children:Object(s.jsx)(T.a,{})}),Object(s.jsx)(p.a,{onClick:function(){var e;e=t,window.open("".concat(E.c,"token/").concat(e.address),"_blank")},children:"\u2197"})]})]},t.address+"_"+a)},U=function(e,t,a){return Object(s.jsxs)(_.a,{val:t.address,className:I.a.assetSelectMenu,onClick:function(){!function(e,t){f(""),D(!1),j(!1),l(e,t)}(e,t)},children:[Object(s.jsx)("div",{className:I.a.assetSelectMenuItem,children:Object(s.jsx)("div",{className:I.a.displayDualIconContainerSmall,children:Object(s.jsx)("img",{className:I.a.displayAssetIconSmall,alt:"",src:t?"".concat(t.logoURI):"",height:"60px",onError:function(e){e.target.onerror=null,e.target.src="/tokens/unknown-logo.png"}})})}),Object(s.jsxs)("div",{className:I.a.assetSelectIconName,children:[Object(s.jsx)(b.a,{variant:"h5",children:t?t.symbol:""}),Object(s.jsx)(b.a,{variant:"subtitle1",color:"textSecondary",children:t?t.name:""})]}),Object(s.jsxs)("div",{className:I.a.assetSelectBalance,children:[Object(s.jsx)(b.a,{variant:"h5",children:t&&t.balance?Object(g.b)(t.balance):"0.00"}),Object(s.jsx)(b.a,{variant:"subtitle1",color:"textSecondary",children:"Balance"})]})]},t.address+"_"+a)};return Object(s.jsxs)(r.a.Fragment,{children:[Object(s.jsx)("div",{className:I.a.displaySelectContainer,onClick:function(){j(!0),f("")},children:Object(s.jsx)("div",{className:I.a.assetSelectMenuItem,children:Object(s.jsx)("div",{className:I.a.displayDualIconContainer,children:Object(s.jsx)("img",{className:I.a.displayAssetIcon,alt:"",src:a?"".concat(a.logoURI):"",height:"100px",onError:function(e){e.target.onerror=null,e.target.src="/tokens/unknown-logo.png"}})})})}),Object(s.jsxs)(x.a,{onClose:function(){D(!1),f(""),j(!1)},"aria-labelledby":"simple-dialog-title",open:m,children:[!L&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:I.a.searchContainer,children:[Object(s.jsx)("div",{className:I.a.searchInline,children:Object(s.jsx)(d.a,{autoFocus:!0,variant:"outlined",fullWidth:!0,placeholder:"ETH, MIM, 0x...",value:B,onChange:P,InputProps:{startAdornment:Object(s.jsx)(v.a,{position:"start",children:Object(s.jsx)(N.a,{})})}})}),Object(s.jsx)("div",{className:I.a.assetSearchResults,children:A?A.sort((function(e,t){return O()(e.balance).lt(t.balance)?1:O()(e.balance).gt(t.balance)||e.symbol.toLowerCase()<t.symbol.toLowerCase()?-1:e.symbol.toLowerCase()>t.symbol.toLowerCase()?1:0})).map((function(e,a){return U(t,e,a)})):[]})]}),Object(s.jsx)("div",{className:I.a.manageLocalContainer,children:Object(s.jsx)(C.a,{onClick:R,children:"Manage Local Assets"})})]}),L&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:I.a.searchContainer,children:[Object(s.jsx)("div",{className:I.a.searchInline,children:Object(s.jsx)(d.a,{autoFocus:!0,variant:"outlined",fullWidth:!0,placeholder:"ETH, MIM, 0x...",value:B,onChange:P,InputProps:{startAdornment:Object(s.jsx)(v.a,{position:"start",children:Object(s.jsx)(N.a,{})})}})}),Object(s.jsx)("div",{className:I.a.assetSearchResults,children:A?A.filter((function(e){return!0===e.local})).map((function(e,t){return F(0,e,t)})):[]})]}),Object(s.jsx)("div",{className:I.a.manageLocalContainer,children:Object(s.jsx)(C.a,{onClick:R,children:"Back to Assets"})})]})]})]})}var P=a("DMBS"),R=a.n(P);t.default=function(e){return e.changeTheme,Object(s.jsx)("div",{className:R.a.container,children:Object(s.jsx)(L,{})})}}}]);